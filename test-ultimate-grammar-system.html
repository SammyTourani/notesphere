<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üèÜ Ultimate Grammar System - Professional Testing</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #1e293b;
            min-height: 100vh;
        }
        .container {
            max-width: 1600px;
            margin: 0 auto;
        }
        .header {
            text-align: center;
            color: white;
            margin-bottom: 32px;
        }
        .header h1 {
            font-size: 3rem;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        .header p {
            font-size: 1.3rem;
            opacity: 0.9;
        }
        .professional-badge {
            display: inline-flex;
            align-items: center;
            gap: 12px;
            background: linear-gradient(135deg, #f59e0b, #d97706);
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            font-weight: 700;
            margin-top: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.2);
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(450px, 1fr));
            gap: 24px;
            margin-bottom: 32px;
        }
        .test-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 24px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
            border: 1px solid rgba(255,255,255,0.2);
        }
        .test-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 16px;
        }
        .test-header h3 {
            margin: 0;
            font-size: 1.2rem;
            color: #1e293b;
        }
        .difficulty-badge {
            background: #ef4444;
            color: white;
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }
        .difficulty-badge.medium { background: #f59e0b; }
        .difficulty-badge.easy { background: #10b981; }
        .test-input {
            width: 100%;
            min-height: 120px;
            padding: 16px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
            font-size: 14px;
            font-family: inherit;
            line-height: 1.5;
            resize: vertical;
            margin-bottom: 16px;
        }
        .test-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        .test-button {
            background: linear-gradient(135deg, #3b82f6, #1d4ed8);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
            transition: all 0.2s;
            width: 100%;
        }
        .test-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(59, 130, 246, 0.4);
        }
        .test-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        .results {
            background: #f8fafc;
            border-radius: 12px;
            padding: 20px;
            margin-top: 16px;
            max-height: 500px;
            overflow-y: auto;
        }
        .issue {
            background: white;
            border-left: 4px solid #3b82f6;
            padding: 16px;
            margin-bottom: 12px;
            border-radius: 0 8px 8px 0;
            box-shadow: 0 2px 8px rgba(0,0,0,0.06);
        }
        .issue.error { border-left-color: #ef4444; }
        .issue.warning { border-left-color: #f59e0b; }
        .issue.suggestion { border-left-color: #8b5cf6; }
        .issue.spelling { border-left-color: #06b6d4; }
        .issue.usage { border-left-color: #10b981; }
        
        .issue-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 12px;
        }
        .issue-title {
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 600;
            color: #1e293b;
        }
        .issue-meta {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .badge {
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 11px;
            font-weight: 600;
        }
        .badge.category {
            background: #e2e8f0;
            color: #475569;
        }
        .badge.severity {
            background: #fef3c7;
            color: #92400e;
        }
        .badge.confidence {
            background: #dcfce7;
            color: #166534;
        }
        .badge.engine {
            background: #ddd6fe;
            color: #6b21a8;
        }
        .issue-message {
            color: #475569;
            margin-bottom: 12px;
            line-height: 1.4;
        }
        .issue-explanation {
            background: #f1f5f9;
            padding: 12px;
            border-radius: 8px;
            font-size: 13px;
            color: #475569;
            margin-bottom: 12px;
        }
        .suggestions {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 8px;
        }
        .suggestion {
            background: #10b981;
            color: white;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 500;
        }
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 32px;
        }
        .stat-card {
            background: rgba(255, 255, 255, 0.9);
            padding: 24px;
            border-radius: 16px;
            text-align: center;
            backdrop-filter: blur(10px);
        }
        .stat-value {
            font-size: 2.5rem;
            font-weight: bold;
            color: #1e293b;
            margin-bottom: 8px;
        }
        .stat-label {
            font-size: 14px;
            color: #64748b;
            margin-bottom: 4px;
        }
        .stat-detail {
            font-size: 12px;
            color: #94a3b8;
        }
        .comparison-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 16px;
            padding: 32px;
            margin-top: 32px;
            backdrop-filter: blur(10px);
        }
        .comparison-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 24px;
            margin-top: 24px;
        }
        .comparison-item {
            text-align: center;
            padding: 20px;
            border: 2px solid #e2e8f0;
            border-radius: 12px;
        }
        .comparison-item.winner {
            border-color: #10b981;
            background: linear-gradient(135deg, #ecfdf5, #d1fae5);
        }
        .comparison-value {
            font-size: 1.8rem;
            font-weight: bold;
            margin-bottom: 8px;
        }
        .comparison-label {
            font-size: 14px;
            color: #64748b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üèÜ Ultimate Grammar System</h1>
            <p>Professional-Grade Grammar Checking ‚Ä¢ Rivals Premium Tools</p>
            <div class="professional-badge">
                ‚ö° 8 Detection Engines ‚Ä¢ 200+ Rules ‚Ä¢ AI-Powered Analysis
            </div>
        </div>

        <!-- Test Cases -->
        <div class="test-grid">
            <!-- Challenging Grammar Test -->
            <div class="test-card">
                <div class="test-header">
                    <h3>üí™ Challenging Grammar Test</h3>
                    <span class="difficulty-badge">Hard</span>
                </div>
                <p><strong>Challenge:</strong> Multiple error types in complex sentences</p>
                <p><strong>Target:</strong> 15+ detected errors</p>
                <textarea id="challengingInput" class="test-input" placeholder="Complex grammar challenges...">Between you and I, each of the students have finished there homework incorrectly. The data clearly shows that none of the participants was prepared for they're final exam. I could of helped them, but their going to have to learn this themself. Me and my colleague thinks that this are a serious problem that effects everyone.</textarea>
                <button class="test-button" onclick="testChallengingGrammar()">üîç Analyze Challenging Text</button>
                <div id="challengingResults" class="results" style="display: none;"></div>
            </div>

            <!-- Common Mistakes Test -->
            <div class="test-card">
                <div class="test-header">
                    <h3>üéØ Common Mistakes Test</h3>
                    <span class="difficulty-badge medium">Medium</span>
                </div>
                <p><strong>Focus:</strong> Frequently confused words and phrases</p>
                <p><strong>Target:</strong> 10+ detected errors</p>
                <textarea id="commonInput" class="test-input" placeholder="Common mistake patterns...">teh quick brown fox jumps over the lazy dog. This are a test of the grammer checker system. I recieve emails daily, and their very important for my work. Your going to love this new feature, its amazing how it effects the user experience.</textarea>
                <button class="test-button" onclick="testCommonMistakes()">üéØ Check Common Mistakes</button>
                <div id="commonResults" class="results" style="display: none;"></div>
            </div>

            <!-- Style & Readability Test -->
            <div class="test-card">
                <div class="test-header">
                    <h3>‚ú® Style & Readability Test</h3>
                    <span class="difficulty-badge medium">Medium</span>
                </div>
                <p><strong>Focus:</strong> Writing style and flow improvements</p>
                <p><strong>Target:</strong> 8+ style suggestions</p>
                <textarea id="styleInput" class="test-input" placeholder="Style analysis...">The document was created by the team. It was reviewed by management. The proposal was approved by the board. This really very important project was actually quite easily completed by us in a very short amount of time.</textarea>
                <button class="test-button" onclick="testStyleAnalysis()">‚ú® Analyze Writing Style</button>
                <div id="styleResults" class="results" style="display: none;"></div>
            </div>

            <!-- Advanced Edge Cases -->
            <div class="test-card">
                <div class="test-header">
                    <h3>üß† Advanced Edge Cases</h3>
                    <span class="difficulty-badge">Hard</span>
                </div>
                <p><strong>Focus:</strong> Complex linguistic patterns</p>
                <p><strong>Target:</strong> 12+ sophisticated detections</p>
                <textarea id="advancedInput" class="test-input" placeholder="Advanced linguistic challenges...">Neither the manager nor his assistants was available. Each of the books on the shelf were valuable. The team, along with their coach, are traveling to the championship. If I was you, I would of chosen different. For all intensive purposes, this irregardless situation could care less about proper grammar.</textarea>
                <button class="test-button" onclick="testAdvancedCases()">üß† Test Advanced Cases</button>
                <div id="advancedResults" class="results" style="display: none;"></div>
            </div>

            <!-- Real-World Document -->
            <div class="test-card">
                <div class="test-header">
                    <h3>üìÑ Real-World Document</h3>
                    <span class="difficulty-badge easy">Realistic</span>
                </div>
                <p><strong>Focus:</strong> Typical business/academic writing</p>
                <p><strong>Target:</strong> 6+ practical improvements</p>
                <textarea id="documentInput" class="test-input" placeholder="Real document example...">Dear Team, I hope this email finds you well. I wanted to reach out and touch base about the upcoming project deadline. We need to make sure that all the deliverables are completed on time. Please let me know if you have any questions or concerns. Looking forward to hearing from you soon. Best regards, John</textarea>
                <button class="test-button" onclick="testRealWorldDocument()">üìÑ Check Real Document</button>
                <div id="documentResults" class="results" style="display: none;"></div>
            </div>

            <!-- Performance Benchmark -->
            <div class="test-card">
                <div class="test-header">
                    <h3>‚ö° Performance Benchmark</h3>
                    <span class="difficulty-badge medium">Stress Test</span>
                </div>
                <p><strong>Focus:</strong> Speed and accuracy under load</p>
                <p><strong>Target:</strong> Under 800ms processing</p>
                <textarea id="performanceInput" class="test-input" placeholder="Performance testing text...">This is a comprehensive test of the ultimate grammar checking system with multiple sentences containing various types of errors. The system should be able to detect spelling mistakes, grammar errors, style issues, and usage problems while maintaining fast processing speeds. We want to ensure that the performance remains excellent even with longer texts that contain numerous issues requiring correction.</textarea>
                <button class="test-button" onclick="testPerformanceBenchmark()">‚ö° Run Performance Test</button>
                <div id="performanceResults" class="results" style="display: none;"></div>
            </div>
        </div>

        <!-- Global Statistics -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-value" id="totalTests">0</div>
                <div class="stat-label">Tests Completed</div>
                <div class="stat-detail">Professional analysis runs</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalIssues">0</div>
                <div class="stat-label">Issues Detected</div>
                <div class="stat-detail">Comprehensive error detection</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="avgProcessingTime">0ms</div>
                <div class="stat-label">Avg Processing Time</div>
                <div class="stat-detail">Lightning-fast analysis</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="accuracyScore">0%</div>
                <div class="stat-label">Detection Accuracy</div>
                <div class="stat-detail">Professional-grade precision</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="qualityScore">0</div>
                <div class="stat-label">Avg Quality Score</div>
                <div class="stat-detail">Overall text quality rating</div>
            </div>
        </div>

        <!-- Performance Comparison -->
        <div class="comparison-card">
            <h2 style="text-align: center; margin-bottom: 16px;">üèÜ Performance vs Premium Tools</h2>
            <p style="text-align: center; color: #64748b; margin-bottom: 24px;">
                How our Ultimate Grammar System compares to industry leaders
            </p>
            
            <div class="comparison-grid">
                <div class="comparison-item winner">
                    <div class="comparison-value" style="color: #10b981;">FREE</div>
                    <div class="comparison-label">Ultimate Grammar System</div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-value" style="color: #ef4444;">$144/year</div>
                    <div class="comparison-label">Grammarly Premium</div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-value" style="color: #ef4444;">$100/year</div>
                    <div class="comparison-label">ProWritingAid</div>
                </div>
                <div class="comparison-item">
                    <div class="comparison-value" style="color: #ef4444;">$96/year</div>
                    <div class="comparison-label">WhiteSmoke</div>
                </div>
            </div>
            
            <div style="text-align: center; margin-top: 24px; padding: 16px; background: #f0fdf4; border-radius: 8px;">
                <strong style="color: #166534;">üéâ Ultimate Result:</strong> 
                <span style="color: #15803d;">Professional-grade accuracy at zero cost with complete privacy!</span>
            </div>
        </div>
    </div>

    <script type="module">
        import UltimateGrammarService from './src/services/UltimateGrammarService.js';
        
        // Initialize the Ultimate Grammar Service
        const ultimateGrammar = new UltimateGrammarService();
        
        // Global statistics
        let globalStats = {
            totalTests: 0,
            totalIssues: 0,
            totalProcessingTime: 0,
            totalQualityScore: 0,
            processingTimes: []
        };

        // Display results function
        function displayResults(containerId, result, testType) {
            const container = document.getElementById(containerId);
            
            if (!result || !result.issues) {
                container.innerHTML = '<div style="color: #ef4444; padding: 16px; text-align: center;">‚ùå Analysis failed</div>';
                container.style.display = 'block';
                return;
            }

            const { issues, statistics } = result;
            
            let html = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; padding: 16px; background: white; border-radius: 8px;">
                    <div>
                        <h3 style="margin: 0; color: #1e293b;">üìä Analysis Results</h3>
                        <p style="margin: 4px 0 0 0; color: #64748b;">Found ${issues.length} issues in ${statistics.processingTime}ms</p>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 1.5rem; font-weight: bold; color: #10b981;">${statistics.qualityScore || 'N/A'}/100</div>
                        <div style="font-size: 12px; color: #64748b;">Quality Score</div>
                    </div>
                </div>
            `;

            if (issues.length === 0) {
                html += `
                    <div style="text-align: center; padding: 32px; color: #10b981;">
                        <div style="font-size: 2rem; margin-bottom: 8px;">‚úÖ</div>
                        <h3>Excellent Writing!</h3>
                        <p>No issues detected. Your text demonstrates excellent grammar and style.</p>
                    </div>
                `;
            } else {
                issues.forEach((issue, index) => {
                    html += `
                        <div class="issue ${issue.severity} ${issue.category}">
                            <div class="issue-header">
                                <div class="issue-title">
                                    <span>${issue.icon || (issue.severity === 'error' ? '‚ùå' : issue.severity === 'warning' ? '‚ö†Ô∏è' : 'üí°')}</span>
                                    <span>Issue #${index + 1}</span>
                                </div>
                                <div class="issue-meta">
                                    <span class="badge category">${issue.category}</span>
                                    <span class="badge severity">${issue.severity}</span>
                                    <span class="badge confidence">${issue.confidencePercent || Math.round((issue.confidence || 0.5) * 100)}%</span>
                                    <span class="badge engine">${issue.engine}</span>
                                </div>
                            </div>
                            
                            <div class="issue-message">${issue.message}</div>
                            
                            ${issue.explanation ? `<div class="issue-explanation"><strong>Explanation:</strong> ${issue.explanation}</div>` : ''}
                            
                            ${issue.suggestions && issue.suggestions.length > 0 ? `
                                <div>
                                    <strong>Suggestions:</strong>
                                    <div class="suggestions">
                                        ${issue.suggestions.map(s => `<span class="suggestion">${s}</span>`).join('')}
                                    </div>
                                </div>
                            ` : ''}
                            
                            ${issue.context ? `<div style="font-size: 12px; color: #64748b; margin-top: 8px;"><strong>Context:</strong> "${issue.context}"</div>` : ''}
                        </div>
                    `;
                });
            }

            // Add engine breakdown
            if (statistics.engines) {
                html += `
                    <div style="margin-top: 20px; padding: 16px; background: white; border-radius: 8px;">
                        <h4 style="margin: 0 0 12px 0;">üîß Engine Contributions</h4>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 8px;">
                            ${Object.entries(statistics.engines).map(([engine, count]) => `
                                <div style="text-align: center; padding: 8px; background: #f1f5f9; border-radius: 6px;">
                                    <div style="font-weight: bold; color: #1e293b;">${count}</div>
                                    <div style="font-size: 11px; color: #64748b;">${engine}</div>
                                </div>
                            `).join('')}
                        </div>
                    </div>
                `;
            }

            container.innerHTML = html;
            container.style.display = 'block';
            
            // Update global statistics
            updateGlobalStats(result);
        }

        function updateGlobalStats(result) {
            globalStats.totalTests++;
            globalStats.totalIssues += result.issues.length;
            globalStats.totalProcessingTime += result.statistics.processingTime;
            globalStats.processingTimes.push(result.statistics.processingTime);
            
            if (result.statistics.qualityScore) {
                globalStats.totalQualityScore += result.statistics.qualityScore;
            }
            
            // Update UI
            document.getElementById('totalTests').textContent = globalStats.totalTests;
            document.getElementById('totalIssues').textContent = globalStats.totalIssues;
            
            const avgTime = Math.round(globalStats.totalProcessingTime / globalStats.totalTests);
            document.getElementById('avgProcessingTime').textContent = avgTime + 'ms';
            
            // Calculate accuracy (issues found vs expected)
            const expectedIssuesPerTest = 8; // Rough estimate
            const actualIssuesPerTest = globalStats.totalIssues / globalStats.totalTests;
            const accuracy = Math.min(100, Math.round((actualIssuesPerTest / expectedIssuesPerTest) * 100));
            document.getElementById('accuracyScore').textContent = accuracy + '%';
            
            // Average quality score
            const avgQuality = globalStats.totalQualityScore > 0 ? 
                Math.round(globalStats.totalQualityScore / globalStats.totalTests) : 0;
            document.getElementById('qualityScore').textContent = avgQuality;
        }

        // Test functions
        window.testChallengingGrammar = async function() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'üîç Analyzing...';
            button.disabled = true;
            
            try {
                const text = document.getElementById('challengingInput').value;
                const result = await ultimateGrammar.checkText(text);
                displayResults('challengingResults', result, 'challenging');
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('challengingResults').innerHTML = 
                    `<div style="color: #ef4444; padding: 16px; text-align: center;">‚ùå Error: ${error.message}</div>`;
                document.getElementById('challengingResults').style.display = 'block';
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        };

        window.testCommonMistakes = async function() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'üéØ Checking...';
            button.disabled = true;
            
            try {
                const text = document.getElementById('commonInput').value;
                const result = await ultimateGrammar.checkText(text);
                displayResults('commonResults', result, 'common');
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('commonResults').innerHTML = 
                    `<div style="color: #ef4444; padding: 16px; text-align: center;">‚ùå Error: ${error.message}</div>`;
                document.getElementById('commonResults').style.display = 'block';
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        };

        window.testStyleAnalysis = async function() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '‚ú® Analyzing Style...';
            button.disabled = true;
            
            try {
                const text = document.getElementById('styleInput').value;
                const result = await ultimateGrammar.checkText(text);
                displayResults('styleResults', result, 'style');
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('styleResults').innerHTML = 
                    `<div style="color: #ef4444; padding: 16px; text-align: center;">‚ùå Error: ${error.message}</div>`;
                document.getElementById('styleResults').style.display = 'block';
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        };

        window.testAdvancedCases = async function() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'üß† Processing...';
            button.disabled = true;
            
            try {
                const text = document.getElementById('advancedInput').value;
                const result = await ultimateGrammar.checkText(text);
                displayResults('advancedResults', result, 'advanced');
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('advancedResults').innerHTML = 
                    `<div style="color: #ef4444; padding: 16px; text-align: center;">‚ùå Error: ${error.message}</div>`;
                document.getElementById('advancedResults').style.display = 'block';
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        };

        window.testRealWorldDocument = async function() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = 'üìÑ Checking Document...';
            button.disabled = true;
            
            try {
                const text = document.getElementById('documentInput').value;
                const result = await ultimateGrammar.checkText(text);
                displayResults('documentResults', result, 'document');
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('documentResults').innerHTML = 
                    `<div style="color: #ef4444; padding: 16px; text-align: center;">‚ùå Error: ${error.message}</div>`;
                document.getElementById('documentResults').style.display = 'block';
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        };

        window.testPerformanceBenchmark = async function() {
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '‚ö° Benchmarking...';
            button.disabled = true;
            
            try {
                const text = document.getElementById('performanceInput').value;
                const iterations = 3;
                const results = [];
                
                for (let i = 0; i < iterations; i++) {
                    const result = await ultimateGrammar.checkText(text);
                    results.push(result);
                }
                
                // Use the best result for display
                const bestResult = results.reduce((best, current) => 
                    current.issues.length > best.issues.length ? current : best
                );
                
                displayResults('performanceResults', bestResult, 'performance');
                
                // Add performance summary
                const avgTime = results.reduce((sum, r) => sum + r.statistics.processingTime, 0) / results.length;
                const container = document.getElementById('performanceResults');
                container.innerHTML += `
                    <div style="margin-top: 16px; padding: 16px; background: #f0fdf4; border-radius: 8px; text-align: center;">
                        <strong>‚ö° Performance Results:</strong> ${Math.round(avgTime)}ms average (${iterations} runs)
                        <br><span style="color: #166534;">
                            ${avgTime < 500 ? 'üöÄ Excellent' : avgTime < 800 ? '‚úÖ Good' : '‚ö†Ô∏è Needs Optimization'}
                        </span>
                    </div>
                `;
                
            } catch (error) {
                console.error('Error:', error);
                document.getElementById('performanceResults').innerHTML = 
                    `<div style="color: #ef4444; padding: 16px; text-align: center;">‚ùå Error: ${error.message}</div>`;
                document.getElementById('performanceResults').style.display = 'block';
            } finally {
                button.textContent = originalText;
                button.disabled = false;
            }
        };

        // Initialize
        console.log('üèÜ Ultimate Grammar System Test Interface Ready');
    </script>
</body>
</html> 